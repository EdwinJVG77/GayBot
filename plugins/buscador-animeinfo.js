import translate from '@vitalets/google-translate-api';
import {Anime} from '@shineiichijo/marika';
const client = new Anime();
const handler = async (m, {conn, text, usedPrefix}) => {
  if (!text) return m.reply(`${lenguajeGB['smsAvisoMG']()}*ğ—œğ—¡ğ—šğ—¥ğ—˜ğ—¦ğ—˜ ğ—˜ğ—Ÿ ğ—¡ğ—¢ğ— ğ—•ğ—¥ğ—˜ ğ——ğ—˜ ğ—”ğ—Ÿğ—šğ—¨ğ—¡ ğ—”ğ—¡ğ—œğ— ğ—˜ ğ—£ğ—”ğ—¥ğ—” ğ—•ğ—¨ğ—¦ğ—–ğ—”ğ—¥*\n\n*ğ—˜ğ—¡ğ—§ğ—˜ğ—¥ ğ—§ğ—›ğ—˜ ğ—¡ğ—”ğ— ğ—˜ ğ—¢ğ—™ ğ—”ğ—¡ ğ—”ğ—¡ğ—œğ— ğ—˜ ğ—§ğ—¢ ğ—¦ğ—˜ğ—”ğ—¥ğ—–ğ—›*`);
  try { 
    const anime = await client.searchAnime(text);
    const result = anime.data[0];
    const resultes = await translate(`${result.background}`, {to: 'es', autoCorrect: true});
    const resultes2 = await translate(`${result.synopsis}`, {to: 'es', autoCorrect: true});
    const AnimeInfo = `
*â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—§ğ—œğ—§ğ—¨ğ—Ÿğ—¢ | ğ—§ğ—œğ—§ğ—Ÿğ—˜:*
*â”ƒ ${result.title}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—™ğ—¢ğ—¥ğ— ğ—”ğ—§ğ—¢ | ğ—™ğ—¢ğ—¥ğ— ğ—”ğ—§:* 
*â”ƒ ${result.type}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—˜ğ—¦ğ—§ğ—”ğ——ğ—¢ | ğ—¦ğ—§ğ—”ğ—§ğ—¨ğ—¦:* 
*â”ƒ ${result.status.toUpperCase().replace(/\_/g, ' ')}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—˜ğ—£ğ—œğ—¦ğ—¢ğ——ğ—œğ—¢ğ—¦ | ğ—˜ğ—£ğ—œğ—¦ğ—¢ğ——ğ—˜ğ—¦:* 
*â”ƒ ${result.episodes}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ——ğ—¨ğ—¥ğ—”ğ—–ğ—œğ—¢ğ—¡ | ğ——ğ—¨ğ—¥ğ—”ğ—§ğ—œğ—¢ğ—¡:*
*â”ƒ ${result.duration}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—•ğ—”ğ—¦ğ—”ğ——ğ—¢ ğ—˜ğ—¡ | ğ—•ğ—”ğ—¦ğ—˜ğ—— ğ—œğ—¡:* 
*â”ƒ ${result.source.toUpperCase()}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—˜ğ—¦ğ—§ğ—¥ğ—˜ğ—¡ğ—”ğ——ğ—¢ | ğ—£ğ—¥ğ—˜ğ— ğ—œğ—˜ğ—¥ğ—˜ğ——:*
*â”ƒ ${result.aired.from}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—™ğ—œğ—¡ğ—”ğ—Ÿğ—œğ—­ğ—”ğ——ğ—¢ | ğ—™ğ—œğ—¡ğ—”ğ—Ÿğ—œğ—­ğ—˜ğ——:* 
*â”ƒ ${result.aired.to}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—£ğ—¢ğ—£ğ—¨ğ—Ÿğ—”ğ—¥ğ—œğ——ğ—”ğ—— | ğ—£ğ—¢ğ—£ğ—¨ğ—Ÿğ—”ğ—¥ğ—œğ—§ğ—¬:* 
*â”ƒ ${result.popularity}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—™ğ—”ğ—©ğ—¢ğ—¥ğ—œğ—§ğ—¢ğ—¦ | ğ—™ğ—”ğ—©ğ—¢ğ—¥ğ—œğ—§ğ—˜ğ—¦:* 
*â”ƒ ${result.favorites}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—–ğ—Ÿğ—”ğ—¦ğ—œğ—™ğ—œğ—–ğ—”ğ—–ğ—œğ—¢ğ—¡ | ğ—¥ğ—”ğ—§ğ—œğ—¡ğ—š:* 
*â”ƒ ${result.rating}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—¥ğ—”ğ—¡ğ—šğ—¢ | ğ—¥ğ—”ğ—¡ğ—:* 
*â”ƒ ${result.rank}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—§ğ—¥ğ—”ğ—œğ—Ÿğ—˜ğ—¥ | ğ—§ğ—¥ğ—”ğ—œğ—Ÿğ—˜ğ—¥:* 
*â”ƒ ${result.trailer.url}*
*â”ƒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
*â”ƒ ğ—˜ğ—¡ğ—Ÿğ—”ğ—–ğ—˜ | ğ—Ÿğ—œğ—¡ğ—:* 
*â”ƒ ${result.url}*
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*

_*Background:*_ _+${resultes.text}_

_*Sinopsis:*_ _${resultes2.text}_`;
    conn.sendFile(m.chat, result.images.jpg.image_url, 'error.jpg', AnimeInfo, m);
  } catch {
    throw `${lenguajeGB['smsAvisoFG']()}*ğ—œğ—¡ğ—§ğ—˜ğ—¡ğ—§ğ—”ğ—Ÿğ—¢ ğ——ğ—˜ ğ—¡ğ—¨ğ—˜ğ—©ğ—¢*`;
  }
};
handler.command = /^(animeinfo|infoanime)$/i;
handler.limit = 1
export default handler;
